# Program 1
from transformers import pipeline
text_generator=pipeline("text-generation",model="gpt2")
summarizer=pipeline("summarization",model="facebook/bart-large-cnn")
sentiment_analyzer=pipeline("sentiment-analysis")
input_text=input('Enter the text')
print("choose a task to perform:")
print("1.Text Generation")
print("2.Summarization")
print("3.Sentiment Analysis")
print("4.Exit")

while True:
    choice=input("Enter your choice(1-4):")
    if choice=="1":
        generated_text=text_generator(input_text,max_length=50,num_return_sequences=1)
        print("===Text Generation=== :")
        print(generated_text[0]['generated_text'])
    elif choice=="2":
        summary=summarizer(input_text,max_length=50,min_length=25,do_sample=False)
        print("===Text Summarization=== :")
        print(summary[0]['summary_text'])
    elif choice=="3":
        sentiment=sentiment_analyzer(input_text)
        print("===Sentiment Analysis=== ")
        print(f"Label:{sentiment[0]['label']},Score:{sentiment[0]['score']:.4f}")
    elif choice=='4':
        print("Exiting...Bye!")
        break
    else:
        print("invalid choice. Please try again.")
